Процедура SyncPartners()
	//
Запрос= Новый Запрос;
Текст= Новый ТекстовыйДокумент;

//partners			  
Запрос.Текст=   "ВЫБРАТЬ РАЗЛИЧНЫЕ
                |	Контрагенты.Наименование,
                |	Контрагенты.ИНН,
                |	Контрагенты.КПП,
                |	Контрагенты.абс_ОГРН,
                |	Контрагенты.Ссылка,
                |	Контрагенты.ЮрФизЛицо
                |ИЗ
                |	Справочник.ДоговорыКонтрагентов КАК ДоговорыКонтрагентов
                |		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Контрагенты КАК Контрагенты
                |		ПО ДоговорыКонтрагентов.Владелец = Контрагенты.Ссылка
                |ГДЕ
                |	НЕ Контрагенты.ПометкаУдаления
                |	И ДоговорыКонтрагентов.АР_АрендныйДоговор
                |	И НЕ Контрагенты.ЮрФизЛицо = ЗНАЧЕНИЕ(Перечисление.ЮрФизЛицо.ФизЛицо)";
                                           // = ""Юр. лицо""
Результат=Запрос.Выполнить();
Выборка = Результат.Выгрузить();

для каждого запись из Выборка Цикл
	
	стрЗапись = "";
	Для каждого поле Из запись Цикл
        стрЗапись = "" + стрЗапись + Строка(поле) + "|";
	КонецЦикла;
		стрЗапись = "" + стрЗапись + Строка(запись.Ссылка.УникальныйИдентификатор()) + "|";
	Текст.ДобавитьСтроку(стрЗапись);
КонецЦикла;
DataFile=ПолучитьИмяВременногоФайла("txt");
Текст.Записать(DataFile);
Текст.Очистить();
Попытка
	Сообщить(DataFile);
    //УдалитьФайлы(SendDataToServer(DataFile,"partners"));
	//УдалитьФайлы(DataFile);
Исключение
    WriteLog(ОписаниеОшибки());
КонецПопытки;

КонецПроцедуры
